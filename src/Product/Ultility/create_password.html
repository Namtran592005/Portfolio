<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tạo Mật khẩu - Công cụ Tiện ích</title>
    <style>
        :root {
            --primary-bg: #f8f9fa;
            --secondary-bg: #ffffff;
            --text-color: #212529;
            --light-text-color: #6c757d;
            --border-color: #dee2e6;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --primary-color: #0d6efd;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; margin: 0; background-color: #f0f2f5; color: var(--text-color); }
        .container { max-width: 600px; margin: 20px auto; padding: 20px; background-color: var(--secondary-bg); border-radius: 8px; box-shadow: 0 2px 10px var(--shadow-color); }
        h1 { text-align: center; }
        .result-container { position: relative; background-color: #e9ecef; padding: 15px; border-radius: 4px; margin-bottom: 20px; }
        #passwordOutput { font-family: 'Courier New', Courier, monospace; font-size: 1.5em; color: var(--text-color); word-break: break-all; }
        #copyBtn { position: absolute; top: 50%; right: 15px; transform: translateY(-50%); background-color: var(--primary-color); color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .option { display: flex; flex-direction: column; }
        .option label { font-weight: 500; margin-bottom: 5px; }
        .option input[type="range"] { width: 100%; }
        .option .checkbox-label { display: flex; align-items: center; gap: 8px; font-weight: normal; }
        button#generateBtn { width: 100%; padding: 12px; font-size: 1.2em; background-color: #198754; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 20px; }
        .back-link { display: inline-block; margin-bottom: 20px; color: var(--primary-color); text-decoration: none; }
        .back-link:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">← Quay lại trang chủ</a>
        <h1>Tạo Mật khẩu ngẫu nhiên</h1>
        
        <div class="result-container">
            <div id="passwordOutput">Bấm "Tạo Mật khẩu"</div>
            <button id="copyBtn">Sao chép</button>
        </div>

        <div class="option">
            <label for="length">Độ dài mật khẩu: <span id="lengthValue">16</span></label>
            <input type="range" id="length" min="6" max="32" value="16">
        </div>
        <div class="options">
            <div class="option">
                <label class="checkbox-label"><input type="checkbox" id="uppercase" checked> Chữ hoa (A-Z)</label>
            </div>
            <div class="option">
                <label class="checkbox-label"><input type="checkbox" id="lowercase" checked> Chữ thường (a-z)</label>
            </div>
            <div class="option">
                <label class="checkbox-label"><input type="checkbox" id="numbers" checked> Số (0-9)</label>
            </div>
            <div class="option">
                <label class="checkbox-label"><input type="checkbox" id="symbols"> Ký tự đặc biệt (!@#...)</label>
            </div>
        </div>

        <button id="generateBtn">Tạo Mật khẩu</button>
    </div>

    <script>
        const lengthSlider = document.getElementById('length');
        const lengthValue = document.getElementById('lengthValue');
        const passwordOutput = document.getElementById('passwordOutput');
        const copyBtn = document.getElementById('copyBtn');
        const generateBtn = document.getElementById('generateBtn');
        const options = {
            uppercase: document.getElementById('uppercase'),
            lowercase: document.getElementById('lowercase'),
            numbers: document.getElementById('numbers'),
            symbols: document.getElementById('symbols')
        };
        const charSets = {
            uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            lowercase: 'abcdefghijklmnopqrstuvwxyz',
            numbers: '0123456789',
            symbols: '!@#$%^&*()_+~`|}{[]:;?><,./-='
        };

        lengthSlider.addEventListener('input', (e) => {
            lengthValue.textContent = e.target.value;
        });

        generateBtn.addEventListener('click', () => {
            const length = parseInt(lengthSlider.value);
            let charPool = '';
            let password = '';

            for (const key in options) {
                if (options[key].checked) {
                    charPool += charSets[key];
                }
            }

            if (charPool === '') {
                passwordOutput.textContent = 'Vui lòng chọn ít nhất 1 loại ký tự!';
                return;
            }

            for (let i = 0; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * charPool.length);
                password += charPool[randomIndex];
            }

            passwordOutput.textContent = password;
        });

        copyBtn.addEventListener('click', () => {
            const password = passwordOutput.textContent;
            if (password && !password.startsWith('Vui lòng')) {
                navigator.clipboard.writeText(password).then(() => {
                    copyBtn.textContent = 'Đã chép!';
                    setTimeout(() => {
                        copyBtn.textContent = 'Sao chép';
                    }, 1500);
                });
            }
        });
        
        // Generate a password on load
        document.addEventListener('DOMContentLoaded', () => generateBtn.click());
    </script>
</body>
</html>